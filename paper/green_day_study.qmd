---
title: "Exploring Green Day's Music Over Time"
subtitle: "Green Day's Remarkable Consistency in Style is Seen by their Audio Features"
author: 
  - Justin Klip, Dhruv Gupta, Kevin Shen.
thanks: "Code and data are available at: https://github.com/justinklip/green_day_variance_study"
date: today
date-format: long
format: pdf
number-sections: true
bibliography: references.bib
---

# Introduction {#sec-introduction}

Green Day has been performing and producing music for nearly 30 years. With such longevity, it begs the question of how much this music has varied over time. In this paper, we explore traits of Green Day's music. In particular, we examine the average valence, energy, and tempo of their songs from year to year. We find that the energy does not change very much at all, staying at a high level of around 0.88 for most years on average. Valence changes more on average, with 2004 onward having a lower level of valence compared to the before then, dropping from 0.75 to around 0.5 in some places. The tempo varied the most, jumping between around 150 and 120 beats per minute and moved erratically from yearly average to yearly average. In @sec-results we document these findings in higher detail and plot the data. The [appendix](#appendix) shows how the data was gathered and cleaned, as well as provides a description of the variables.

# Results {#sec-results}

```{r, echo=FALSE, message=FALSE, warning=FALSE}
#Load the libraries
library(ggplot2)
library(here)
library(dplyr)
library(lubridate)
library(tinytex)
library(knitr)
library(spotifyr)
library(remotes)
library(usethis)
# Load the cleaned Green Day data
green_day_cleaned <- readRDS(here("data", "cleaned_data", "green_day_cleaned.rds"))

```

@fig-1 plots the average energy of Green Day songs from their first album in 1990 to 2024. We notice very little variance in the energy of Green Day songs over time. Every single year in which an album was released an average energy above 0.75 at least. For the most part it stays at 0.88 with little fluctuation particularly in the later years. This is quite a high level, suggesting Green Day's style revolves around high energy. This makes given their punk rock music, which typically requires very high energy to fit into that genre.

```{r}
#| echo: false
#| label: fig-1
#| fig-height: 2.5
#| page-break-before: auto
#| fig-cap: Average Energy of Green Day Albums, 1991 to 2024.
#| fig-pos: 'H'
# Extract the year and calculate the average energy
average_energy <- green_day_cleaned %>%
  mutate(year = year(release_date)) %>%  # Extract year from release_date
  group_by(year) %>%                     # Group by year
  summarise(average_energy = mean(energy, na.rm = TRUE))  # Calculate average energy

# Create the plot
ggplot(average_energy, aes(x = year, y = average_energy)) +
  geom_line(color = "blue") +  # Line plot for average energy
  geom_point(color = "blue", alpha = 0.6) +  # Points for average energy
  theme_minimal() +
  labs(
    x = "Year",
    y = "Average Energy Level"
  ) +
  scale_y_continuous(limits = c(0, 1)) +  # Assuming energy values are between 0 and 1
  theme(plot.title = element_text(hjust = 0.5))  # Center the title
```

@fig-2 plots the yearly average valence of Green Day albums from 1991 to 2024 each year they had an album. What is surprising is that the average valence generally stays above 0.5 even at its lowest. Considering that songs like Boulevard of Broken Dreams and American Idiot are some of Green Day's most famous, our graph seems to suggest that those songs are outliers in regard to the rest of the songs, or that Spotify has a rather low bar for what is considered 'happy'.

```{r}
#| echo: false
#| label: fig-2
#| fig-height: 2.5
#| page-break-before: auto
#| fig-cap: Average Valence of Green Day Albums, 1991 to 2024.
#| fig-pos: 'H'
# Ensure release_date is in date format
green_day_cleaned <- green_day_cleaned %>%
  mutate(release_date = ymd(release_date))

# Calculate average valence per year
average_valence <- green_day_cleaned %>%
  group_by(year = year(release_date)) %>%
  summarize(avg_valence = mean(valence, na.rm = TRUE))

# Create the plot for average valence over time
ggplot(average_valence, aes(x = year, y = avg_valence)) +
  geom_line(color = "green") +  # Line plot
  geom_point(color = "green", alpha = 0.6) +  # Points for individual years
  theme_minimal() +
  labs(
    x = "Year",
    y = "Average Valence"
  ) +
  scale_y_continuous(limits = c(0, 1)) +  # Assuming valence values are between 0 and 1
  theme(plot.title = element_text(hjust = 0.5))  # Center the title
```

@fig-3 plots the average tempo of Green Day albums from 1991 to 2024 for every year that they had released an album. We find that the tempo from year to year is much more variable than our other two variables. This could likely be attributed to certain periods and albums emphasizing different aspects in their music. We also notice that the valence seems to track in opposite directions to the tempo. In years where the tempo is high, the valence is low and vice-versa. This is noticeable particularly in the 2000s to 2010s, where there is a sharp rise in tempo but a moderate decrease in valence. This seems to suggest that happier songs are slower for Green Day on average.

```{r}
#| echo: false
#| label: fig-3
#| fig-height: 2.5
#| page-break-before: auto
#| fig-cap: Average Tempo of Green Day Albums, 1991 to 2024.
#| fig-pos: 'H'
# Calculate average tempo per year
average_tempo <- green_day_cleaned %>%
  mutate(year = year(release_date)) %>%  # Extract the year from release_date
  group_by(year) %>%                     # Group by year
  summarise(average_tempo = mean(tempo, na.rm = TRUE))  # Calculate average tempo

# Create the plot for average tempo over time
ggplot(average_tempo, aes(x = year, y = average_tempo)) +
  geom_line(color = "red") +  # Line plot for average tempo
  geom_point(color = "red", alpha = 0.6) +  # Points for individual years
  theme_minimal() +
  labs(
    x = "Year",
    y = "Average Tempo (BPM)"
  ) +
  theme(plot.title = element_text(hjust = 0.5))  # Center the title
```

Overall the results highlight the relative consistency of Green Day's music over time. This is particularly present in energy, but can even be seen in valence and tempo. While there is more jumpiness in these two other variables, it still stays within a rather narrow range. This suggests that there is a Green Day 'style' that has continued to hold regardless of the time period and we can't seem to find any noticeable way their music is trending differently than in the past.

# Appendix {#appendix .appendix}

The data used in this study is obtained using Spotify's Developer Tools API [@spotifyAPI]. In particular, the SpotifyR R package was used [@charlie_thompson_2019_spotifyr] in conjuction with R [@R-base]. Green Day's music was used [@green_day_discography]. Data was downloaded using the API and appropriately cleaned, removing duplicates, missing values, and cleaning the column names. For the data collection, analysis, and paper formatting, the packages dplyr [@dplyr], ggplot2[@ggplot2], here[@here], knitr[@knitr2023], lubridate[@lubridate], remotes[@remotes2023], TinyTeX[@tinytex2023], and usethis [@usethis2023] were used. \newpage

# Description of Variables {.appendix}

The variables of interest in our study are 'energy', 'valence', and 'tempo'. These variables are all .provided from the Spotify API. Energy provides a measure of intensity that is seen in the music, this variable ranges from 0 to 1, with 1 being very intense and 0 being not intense. Valence represents the positivity of the music, that is happier, with 1 being very happy and 0 being not happy. Lastly tempo represents the beats per minute of the music that that the music follows.

The energy and valence variables in specific are quite interesting as we do not know exactly how they are produced from Spotify. Inherently, music is a subjective experience and may have different effects on different people. A song that may be lively and energetic to one person may be associated with different emotions for another person. Ultimately this creates a challenge in trying to quantify the emotions associated with music, and is a limitation of these variables. Understanding how these variables are produced could allow us to analyze the exact weaknesses and strengths of the measurement process.

# References
